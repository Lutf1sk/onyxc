import "io.nyx";

let func :: isz(i32 code) {
	syscall(SYS_EXIT, code);
}

let main :: isz() {
	u64 func_addr = 0x700003CA;

	(isz(i32): func_addr)(3);

	timespec ts;
	u64 start_ns, end_ns;

	clock_gettime(CLOCK_MONOTONIC, &ts);
	start_ns = ts.tv_sec*1000000000 + ts.tv_nsec;

	for usz i..10000000 {}

	clock_gettime(CLOCK_MONOTONIC, &ts);
	end_ns = ts.tv_sec*1000000000 + ts.tv_nsec;

	print_i64((end_ns - start_ns) / 1000000);
	print("ms\n");

	exit(69);
}

